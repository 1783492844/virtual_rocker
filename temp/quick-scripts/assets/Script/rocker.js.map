{"version":3,"sources":["rocker.js"],"names":["showTypeEnum","FIXED","FOLLOW","moveTypeEnum","CHANGED","crossTypeEnum","FORBID","PERMIT","cc","Class","extends","Component","properties","limitAreaNode","default","type","Node","visible","playerNode","moveSpeedMax","Float","moveDir","v2","MAX_R","rocker_bg","stick","moveFlag","moveSpeed","showType","Enum","moveType","crossType","onLoad","node","getParent","getChildByName","width","initTouchEvent","changeShowMode","event","getComponent","Widget","enabled","error","changeMoveMode","changeCrossMode","on","EventType","TOUCH_START","touchStartEvent","TOUCH_MOVE","touchMoveEvent","TOUCH_CANCEL","touchEndEvent","TOUCH_END","startTouchPos","convertToNodeSpaceAR","getLocation","distance","sub","getPosition","mag","pos","setPosition","opacity","x","y","normalize","update","dt","playerMove","radians","Math","atan2","rotation","misc","radiansToDegrees","newPos","position","add","mul","parentNode","height"],"mappings":"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","file":"rocker.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["/**\r\n * 设计思路\r\n * 1.轮盘呼出限制区域（节点），没有限制则为全屏区域，注意节点为空时的判断\r\n * 2.轮盘默认为透明，触摸相应区域（呼出轮盘时）轮盘透明度提高（跟随模式则还需移动到相应位置）\r\n * 3.触摸移动时，stick跟随移动\r\n * 4.模式设计\r\n *      轮盘呼出（显示）   1.固定 2.跟随触摸点\r\n *      移动速度   1.固定 2.随stick距离轮盘中心的距离而改变（变速模式）\r\n *      越过边界   1.阻止   2.允许（从另一侧出现）\r\n * 5.任务转向速度（暂时不考虑）\r\n * \r\n * 注意事项\r\n * 1.rocker节点的size需要设置，不然点击轮盘会无响应\r\n * 2.如果使用限制区域，则需要让rocker节点成为限制区域节点的子节点，此操作涉及轮盘呼出的位置问题\r\n * 3.如果不使用限制区域，则不能使用轮盘呼出的跟随模式，否则会报错\r\n * \r\n */\r\nvar showTypeEnum = {\r\n    FIXED: 0,\r\n    FOLLOW: 1\r\n}\r\nvar moveTypeEnum = {\r\n    FIXED: 0,\r\n    CHANGED: 1\r\n}\r\nvar crossTypeEnum = {\r\n    FORBID: 0,\r\n    PERMIT: 1\r\n}\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 限制区域节点只能是rocker节点的父节点，且size不能为0\r\n        limitAreaNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            visible: false\r\n        },\r\n\r\n        playerNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        // 每帧移动多少距离\r\n        moveSpeedMax: {\r\n            default: 1,\r\n            type: cc.Float\r\n        },\r\n        moveDir: {\r\n            default: cc.v2(0, 0),\r\n            visible: false\r\n        },\r\n\r\n        MAX_R: {\r\n            default: 0,\r\n            type: cc.Float,\r\n            visible: false\r\n        },\r\n        rocker_bg: {\r\n            default: null,\r\n            type: cc.Node,\r\n            visible: false\r\n        },\r\n        stick: {\r\n            default: null,\r\n            type: cc.Node,\r\n            visible: false\r\n        },\r\n        moveFlag: {\r\n            default: false,\r\n            visible: false\r\n        },\r\n        moveSpeed: {\r\n            default: 0,\r\n            type: cc.Float,\r\n            visible: false\r\n        },\r\n\r\n\r\n        showType: {\r\n            default: showTypeEnum.FIXED,\r\n            type: cc.Enum(showTypeEnum),\r\n        },\r\n        moveType: {\r\n            default: moveTypeEnum.FIXED,\r\n            type: cc.Enum(moveTypeEnum),\r\n        },\r\n        crossType: {\r\n            default: crossTypeEnum.FORBID,\r\n            type: cc.Enum(crossTypeEnum)\r\n        }\r\n\r\n\r\n\r\n    },\r\n         \r\n    onLoad() {\r\n        this.limitAreaNode = this.node.getParent();\r\n        this.rocker_bg = this.node.getChildByName('rocker_bg');\r\n        this.stick = this.node.getChildByName('stick');\r\n        this.MAX_R = this.rocker_bg.width / 2;\r\n\r\n        this.initTouchEvent();\r\n    },\r\n\r\n\r\n\r\n    // 切换轮盘显示（呼出）模式\r\n    changeShowMode: function (event, type) {\r\n        switch (type) {\r\n            case 'FIXED': {\r\n                this.showType = showTypeEnum.FIXED;\r\n                this.node.getComponent(cc.Widget).enabled = true;\r\n                break;\r\n            }\r\n            case 'FOLLOW': {\r\n                this.showType = showTypeEnum.FOLLOW;\r\n                this.node.getComponent(cc.Widget).enabled = false;\r\n                break;\r\n            }\r\n            default: {\r\n                cc.error('类型错误');\r\n                break;\r\n            }\r\n        }\r\n        this.initTouchEvent();\r\n    },\r\n\r\n    // 切换角色移动模式\r\n    changeMoveMode: function (event, type) {\r\n        switch (type) {\r\n            case 'FIXED': {\r\n                this.moveType = moveTypeEnum.FIXED;\r\n                break;\r\n            }\r\n            case 'CHANGED': {\r\n                this.moveType = moveTypeEnum.CHANGED;\r\n                break;\r\n            }\r\n            default: {\r\n                cc.error('类型错误');\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    // 切换越界模式\r\n    changeCrossMode: function (event, type) {\r\n        switch (type) {\r\n            case 'FORBID': {\r\n                this.crossType = crossTypeEnum.FORBID;\r\n                break;\r\n            }\r\n            case 'PERMIT': {\r\n                this.crossType = crossTypeEnum.PERMIT;\r\n                break;\r\n            }\r\n            default: {\r\n                cc.error('类型错误');\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    initTouchEvent() {\r\n        var node = this.node;\r\n        if (this.showType == showTypeEnum.FOLLOW) {\r\n            node = this.limitAreaNode;\r\n        }\r\n\r\n        node.on(cc.Node.EventType.TOUCH_START, this.touchStartEvent, this);\r\n        node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMoveEvent, this);\r\n        node.on(cc.Node.EventType.TOUCH_CANCEL, this.touchEndEvent, this);\r\n        node.on(cc.Node.EventType.TOUCH_END, this.touchEndEvent, this);\r\n    },\r\n\r\n    touchStartEvent: function (event) {\r\n        if (this.showType == showTypeEnum.FIXED) {\r\n            let startTouchPos = this.node.convertToNodeSpaceAR(event.getLocation());\r\n\r\n            let distance = startTouchPos.sub(this.node.getPosition()).mag();\r\n            if (distance <= this.MAX_R) {\r\n                let pos = this.node.convertToNodeSpaceAR(event.getLocation());\r\n                this.stick.setPosition(pos);\r\n                this.node.opacity = 255;\r\n            }\r\n            return;\r\n        }\r\n\r\n        // 注意：虚拟摇杆节点必须是限制区域节点的子节点，不然会出现坐标系错误，导致位置不对\r\n        let startTouchPos = this.limitAreaNode.convertToNodeSpaceAR(event.getLocation());\r\n\r\n        this.node.setPosition(startTouchPos);\r\n        this.node.opacity = 255;\r\n    },\r\n\r\n    touchMoveEvent: function (event) {\r\n        this.moveFlag = true;\r\n\r\n        let pos = this.node.convertToNodeSpaceAR(event.getLocation());\r\n\r\n        let distance = pos.mag();\r\n        if (distance > this.MAX_R) {\r\n            // pos.x / distance == x / r\r\n            pos.x = pos.x * this.MAX_R / distance;\r\n            pos.y = pos.y * this.MAX_R / distance;\r\n\r\n            distance = this.MAX_R;\r\n        }\r\n        this.stick.setPosition(pos);\r\n\r\n        this.moveSpeed = this.moveSpeedMax;\r\n        if (this.moveType == moveTypeEnum.CHANGED) {\r\n            this.moveSpeed = this.moveSpeedMax * (distance / this.MAX_R);\r\n        }\r\n\r\n        // 向量归一化（将模长变为1）\r\n        this.moveDir = pos.normalize();\r\n\r\n    },\r\n\r\n    touchEndEvent: function (event) {\r\n        this.stick.setPosition(0, 0);\r\n        this.moveFlag = false;\r\n\r\n        this.node.opacity = 150;\r\n        this.node.getComponent(cc.Widget).enabled = true;\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.moveFlag) {\r\n            this.playerMove();\r\n        }\r\n    },\r\n\r\n    playerMove: function () {\r\n        // 角度\r\n        let radians = Math.atan2(this.moveDir.y, this.moveDir.x);\r\n        this.playerNode.rotation = 90 - cc.misc.radiansToDegrees(radians);\r\n\r\n        // 位置\r\n        let newPos = this.playerNode.position.add(this.moveDir.mul(this.moveSpeed));\r\n        let parentNode = this.playerNode.getParent();\r\n\r\n        if (this.crossType == crossTypeEnum.FORBID) {\r\n            if (newPos.x > parentNode.width / 2) {\r\n                newPos.x = parentNode.width / 2;\r\n            }\r\n            else if (newPos.x < -parentNode.width / 2) {\r\n                newPos.x = -parentNode.width / 2;\r\n            }\r\n\r\n            if (newPos.y > parentNode.height / 2) {\r\n                newPos.y = parentNode.height / 2;\r\n            }\r\n            else if (newPos.y < -parentNode.height / 2) {\r\n                newPos.y = -parentNode.height / 2;\r\n            }\r\n        }\r\n        else {\r\n            if (newPos.x > parentNode.width / 2) {\r\n                newPos.x -= parentNode.width;\r\n            }\r\n            else if (newPos.x < -parentNode.width / 2) {\r\n                newPos.x += parentNode.width;\r\n            }\r\n\r\n            if (newPos.y > parentNode.height / 2) {\r\n                newPos.y -= parentNode.height;\r\n            }\r\n            else if (newPos.y < -parentNode.height / 2) {\r\n                newPos.y += parentNode.height;\r\n            }\r\n        }\r\n\r\n\r\n        this.playerNode.setPosition(newPos);\r\n    }\r\n});\r\n"]}